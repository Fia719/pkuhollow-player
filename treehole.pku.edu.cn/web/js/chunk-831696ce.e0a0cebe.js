(window.webpackJsonp = window.webpackJsonp || []).push([["chunk-831696ce"], { "3fc5": function (t, e, n) { }, "5f87": function (t, e, n) { "use strict"; n.d(e, "a", (function () { return r })), n.d(e, "c", (function () { return o })), n.d(e, "b", (function () { return u })); function r() { return $cookies.get("pku_token") } function o(t) { return $cookies.set("pku_token", t, "2d") } function u() { return $cookies.remove("pku_token") } }, "73ad": function (t, e, n) { "use strict"; n("3fc5") }, "7c15": function (t, e, n) { "use strict"; n.d(e, "g", (function () { return d })), n.d(e, "c", (function () { return f })), n.d(e, "f", (function () { return l })), n.d(e, "d", (function () { return p })), n.d(e, "t", (function () { return m })), n.d(e, "s", (function () { return h })), n.d(e, "n", (function () { return g })), n.d(e, "m", (function () { return _ })), n.d(e, "i", (function () { return v })), n.d(e, "l", (function () { return b })), n.d(e, "a", (function () { return k })), n.d(e, "q", (function () { return y })), n.d(e, "k", (function () { return w })), n.d(e, "e", (function () { return U })), n.d(e, "h", (function () { return j })), n.d(e, "o", (function () { return $ })), n.d(e, "p", (function () { return O })), n.d(e, "j", (function () { return I })), n.d(e, "b", (function () { return S })), n.d(e, "r", (function () { return D })); var r = n("bc3a"), o = n.n(r), u = n("a18c"), c = n("5f87"), i = n("ec26"), a = o.a.create({ baseURL: "/api", timeout: 3e5, ContentType: "multipart/form-data" }); a.interceptors.request.use((function (t) { var e = Object(c.a)(); e && (t.headers.Authorization = "Bearer " + e); var n = localStorage.getItem("pku-uuid"); return n || (n = Object(i.a)(), localStorage.setItem("pku-uuid", "Web_PKUHOLE_2.0.0_WEB_UUID_" + n)), t.headers.Uuid = n, t }), (function (t) { return Promise.reject(t) })), a.interceptors.response.use((function (t) { return 200 === t.status ? t.data && t.data.code && 40002 === t.data.code ? u.a.push({ path: "/verification" }) : t.data && t.data.code && 40008 === t.data.code ? u.a.push({ path: "/verification_user" }) : (t.data && t.data.success, Promise.resolve(t.data)) : Promise.reject(t) }), (function (t) { if (t.response && t.response.status) { switch (t.response.status) { case 400: break; case 401: u.a.push({ path: "/login" }) }return Promise.reject(t.response) } })); var s = a; function d(t) { return s({ url: "/getScore", params: t }) } function f(t) { return s({ url: "/course/score", params: t }) } function l(t) { return s({ url: "/pku_hole", params: t }) } function p(t) { return s({ url: "/follow_v2", params: t }) } function m(t) { return s({ method: "post", url: "/test_login", data: t }) } function h(t) { return s({ method: "post", url: "/login", data: t }) } function g(t) { return s({ method: "post", url: "/pku_store", data: t }) } function _(t, e) { return s({ method: "get", url: "/pku_comment_v3/".concat(e), params: t }) } function v(t) { return s({ method: "post", url: "/pku_comment_v3", data: t }) } function b(t) { return s({ method: "get", url: "/pku/".concat(t) }) } function k(t) { return s({ method: "post", url: "/pku_attention/".concat(t) }) } function y(t, e) { return s({ method: "post", url: "/pku_report/".concat(e), data: t }) } function w(t) { return s({ url: "/pku/manager_spec", params: t }) } function U(t) { return s({ url: "/pku_image/".concat(t), responseType: "blob" }) } function j() { return s({ url: "/pku/tags" }) } function $() { return s({ url: "/jwt_send_msg", method: "post" }) } function O(t) { return s({ url: "/jwt_msg_verify", method: "post", data: t }) } function I() { return s({ url: "/logout", method: "post" }) } function S(t) { return s({ url: "/check_otp", method: "post", data: t }) } function D() { return s({ url: "/title-otp", method: "get" }) } }, "91c0": function (t, e, n) { "use strict"; n.r(e); var r = n("7c15"), o = n("5f87"), u = { data: function () { return { dialogVisible: !0, valid_code: "", title: "", disabled: !1 } }, methods: { submit: function () { var t = this; Object(r.b)({ code: this.valid_code }).then((function (e) { !0 === e.success ? (t.$message.success("验证成功"), t.$router.push("/")) : t.$message.error("验证失败") })).catch((function (e) { t.$message.error(e) })) }, loginOut: function () { var t = this; Object(r.j)().then((function (e) { Object(o.b)(), localStorage.removeItem("pku-uuid"), t.$store.commit("CHANGE_ALERT", !1), t.$router.push({ path: "/login" }) })) }, getTitle: function () { var t = this; Object(r.r)().then((function (e) { !0 === e.success ? t.title = e.data : t.$message.error(e.message) })).catch((function (e) { t.$message.error(e) })) } }, created: function () { this.getTitle() } }, c = (n("73ad"), n("2877")), i = Object(c.a)(u, (function () { var t = this, e = t.$createElement, n = t._self._c || e; return n("div", [n("el-dialog", { attrs: { title: "提示", center: "", visible: t.dialogVisible, top: "30vh", "close-on-press-escape": !1, "close-on-click-modal": !1, "show-close": !1 }, on: { "update:visible": function (e) { t.dialogVisible = e } } }, [n("el-input", { staticStyle: { width: "100%" }, attrs: { clearable: "" }, model: { value: t.valid_code, callback: function (e) { t.valid_code = e }, expression: "valid_code" } }), n("div", { staticClass: "desc" }, [t._v(t._s(t.title))]), n("span", { staticClass: "dialog-footer", attrs: { slot: "footer" }, slot: "footer" }, [n("div", { on: { click: t.loginOut } }, [t._v("退出登录")]), n("div", { attrs: { type: "primary" }, on: { click: t.submit } }, [t._v("确 定")])])], 1)], 1) }), [], !1, null, "1ccdc0d2", null); e.default = i.exports }, ec26: function (t, e, n) { "use strict"; var r = { randomUUID: "undefined" != typeof crypto && crypto.randomUUID && crypto.randomUUID.bind(crypto) }; let o; const u = new Uint8Array(16); function c() { if (!o && (o = "undefined" != typeof crypto && crypto.getRandomValues && crypto.getRandomValues.bind(crypto), !o)) throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported"); return o(u) } const i = []; for (let t = 0; t < 256; ++t)i.push((t + 256).toString(16).slice(1)); function a(t, e = 0) { return (i[t[e + 0]] + i[t[e + 1]] + i[t[e + 2]] + i[t[e + 3]] + "-" + i[t[e + 4]] + i[t[e + 5]] + "-" + i[t[e + 6]] + i[t[e + 7]] + "-" + i[t[e + 8]] + i[t[e + 9]] + "-" + i[t[e + 10]] + i[t[e + 11]] + i[t[e + 12]] + i[t[e + 13]] + i[t[e + 14]] + i[t[e + 15]]).toLowerCase() } e.a = function (t, e, n) { if (r.randomUUID && !e && !t) return r.randomUUID(); const o = (t = t || {}).random || (t.rng || c)(); if (o[6] = 15 & o[6] | 64, o[8] = 63 & o[8] | 128, e) { n = n || 0; for (let t = 0; t < 16; ++t)e[n + t] = o[t]; return e } return a(o) } } }]);